<!DOCTYPE html>
<html lang="bn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Testimonial - Bootstrap</title>
    <!-- Bootstrap 5 CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: #f7f7f8;
        color: #111;
      }
      .quote-text {
        font-weight: 700;
        line-height: 1.15;
        font-size: clamp(18px, 3.6vw, 36px);
      }
      .carousel-stage {
        overflow: hidden;
        border-radius: 12px;
        background: #fff;
      }
      .slides {
        display: flex;
        transition: transform 400ms cubic-bezier(0.2, 0.9, 0.3, 1);
      }
      .slide {
        flex: 0 0 100%;
        padding: 2.25rem;
        box-sizing: border-box;
      }
      .pill-track {
        height: 18px;
        border-radius: 14px;
        background: #e6e6e6;
        padding: 6px;
        position: relative;
        cursor: pointer;
      }
      .pill-indicator {
        position: absolute;
        top: 6px;
        left: 0;
        height: 12px;
        border-radius: 10px;
        background: #111;
        transition: transform 350ms cubic-bezier(0.2, 0.9, 0.3, 1), width 200ms;
        will-change: transform;
      }
      /* Arrow under indicator */
      .pill-arrow {
        position: absolute;
        top: 22px; /* just below track */
        left: 0;
        width: 0;
        height: 0;
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-top: 8px solid #111;
        transition: transform 350ms cubic-bezier(0.2, 0.9, 0.3, 1);
      }
      .no-select {
        user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
      }
      .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        display: inline-block;
      }
    </style>
  </head>
  <body>
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <div class="d-flex flex-column flex-md-row align-items-start gap-4">
            <!-- Left: carousel display -->
            <div class="flex-grow-1 w-100">
              <div id="carousel" class="carousel-stage no-select">
                <div id="slides" class="slides">
                  <!-- Slide 1 -->
                  <div class="slide">
                    <p class="quote-text">
                      “Ovanta team quickly understood our requirements and were
                      proactive and flexible with support and ongoing complex
                      developments. You definitely trust them for complex
                      project requirements as they are top-notch in their field
                      and recommend it.”
                    </p>
                    <div class="d-flex align-items-center gap-3 mt-4">
                      <img
                        src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200&h=200&fit=crop"
                        alt="avatar"
                        class="rounded-circle"
                        style="width: 56px; height: 56px; object-fit: cover"
                      />
                      <div>
                        <div class="fw-bold fs-5">Menny Bennett</div>
                        <div class="text-muted">Senior Marketing Manager</div>
                      </div>
                    </div>
                  </div>
                  <!-- Slide 2 -->
                  <div class="slide">
                    <p class="quote-text">
                      “Great collaboration — they delivered on time and the code
                      quality was excellent. Communication was transparent and
                      proactive.”
                    </p>
                    <div class="d-flex align-items-center gap-3 mt-4">
                      <img
                        src="https://images.unsplash.com/photo-1545996124-1f9b5a8c89b4?w=200&h=200&fit=crop"
                        alt="avatar"
                        class="rounded-circle"
                        style="width: 56px; height: 56px; object-fit: cover"
                      />
                      <div>
                        <div class="fw-bold fs-5">Ravi Sharma</div>
                        <div class="text-muted">Product Lead</div>
                      </div>
                    </div>
                  </div>
                  <!-- Slide 3 -->
                  <div class="slide">
                    <p class="quote-text">
                      “They adapted quickly to changes and the support after
                      delivery was exceptional. Highly recommended!”
                    </p>
                    <div class="d-flex align-items-center gap-3 mt-4">
                      <img
                        src="https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?w=200&h=200&fit=crop"
                        alt="avatar"
                        class="rounded-circle"
                        style="width: 56px; height: 56px; object-fit: cover"
                      />
                      <div>
                        <div class="fw-bold fs-5">Lea Müller</div>
                        <div class="text-muted">CTO</div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- /slides -->
              </div>
              <!-- /carousel -->
            </div>

            <!-- Right: controls -->
            <div
              class="col-md-4 col-12 d-flex flex-column align-items-center align-items-md-end gap-3"
            >
              <div class="w-100" style="max-width: 280px">
                <div id="pillTrack" class="pill-track">
                  <div
                    id="pillIndicator"
                    class="pill-indicator"
                    style="width: 40px"
                  ></div>
                  <div id="pillArrow" class="pill-arrow"></div>
                </div>
              </div>
              <div id="dots" class="mt-2 d-flex gap-2"></div>
              <div class="text-muted small mt-2">
                Drag quote area or click control to change testimonial
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      (function () {
        const slidesEl = document.getElementById("slides");
        const carousel = document.getElementById("carousel");
        const indicator = document.getElementById("pillIndicator");
        const arrow = document.getElementById("pillArrow");
        const pillTrack = document.getElementById("pillTrack");
        const dotsContainer = document.getElementById("dots");

        const slides = Array.from(slidesEl.children);
        let current = 0;
        const count = slides.length;

        function createDots() {
          dotsContainer.innerHTML = "";
          for (let i = 0; i < count; i++) {
            const dot = document.createElement("span");
            dot.className = "dot";
            dot.style.background = i === current ? "#111" : "#d1d1d1";
            dot.style.cursor = "pointer";
            dot.addEventListener("click", () => {
              current = i;
              update();
            });
            dotsContainer.appendChild(dot);
          }
        }

        function updateDots() {
          Array.from(dotsContainer.children).forEach((d, i) => {
            d.style.background = i === current ? "#111" : "#d1d1d1";
          });
        }

        function update(animate = true) {
          if (!animate) slidesEl.style.transition = "none";
          else slidesEl.style.transition = "";
          slidesEl.style.transform = `translateX(${-current * 100}%)`;

          const trackWidth = pillTrack.clientWidth;
          const segment = trackWidth / count;
          const indWidth = Math.max(18, segment * 0.6);
          indicator.style.width = indWidth + "px";
          const offset = current * segment + (segment - indWidth) / 2;
          indicator.style.transform = `translateX(${offset}px)`;
          arrow.style.transform = `translateX(${offset + indWidth / 2 - 8}px)`; // arrow center under indicator

          updateDots();

          if (!animate) {
            void slidesEl.offsetWidth;
            slidesEl.style.transition = "";
          }
        }

        pillTrack.addEventListener("click", (e) => {
          const rect = pillTrack.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const idx = Math.floor(x / (rect.width / count));
          current = Math.max(0, Math.min(count - 1, idx));
          update();
        });

        // Drag/swipe
        let startX = 0,
          deltaX = 0,
          dragging = false;
        function start(ev) {
          dragging = true;
          slidesEl.style.transition = "none";
          startX = ev.type.startsWith("touch")
            ? ev.touches[0].clientX
            : ev.clientX;
        }
        function move(ev) {
          if (!dragging) return;
          const clientX = ev.type.startsWith("touch")
            ? ev.touches[0].clientX
            : ev.clientX;
          deltaX = clientX - startX;
          const w = carousel.clientWidth;
          const percent = (deltaX / w) * 100;
          slidesEl.style.transform = `translateX(${-current * 100 + percent}%)`;
        }
        function end() {
          if (!dragging) return;
          dragging = false;
          const w = carousel.clientWidth;
          if (Math.abs(deltaX) > Math.max(40, w * 0.12)) {
            if (deltaX < 0 && current < count - 1) current++;
            if (deltaX > 0 && current > 0) current--;
          }
          deltaX = 0;
          update();
        }

        carousel.addEventListener("mousedown", start);
        window.addEventListener("mousemove", move);
        window.addEventListener("mouseup", end);
        carousel.addEventListener("touchstart", start, { passive: true });
        carousel.addEventListener("touchmove", move, { passive: true });
        carousel.addEventListener("touchend", end);

        window.addEventListener("resize", () => update(false));

        createDots();
        update(false);
      })();
    </script>
  </body>
</html>
